parser_version('6493608583aa373b4ee423036e944e7074ab4262').
classical_b('Battleships_Main',['F:\\4th Year\\Induranga_Kawishwara_20200688_w1913278\\Battleships_Main.mch','F:\\4th Year\\Induranga_Kawishwara_20200688_w1913278\\Battleships_Base.mch']).
machine(abstract_machine(p5(2,5,1,18,4),machine(p4(2,5,1,8)),machine_header(p4(2,5,9,25),'Battleships_Base',[]),[sets(p5(2,6,1,9,40),[enumerated_set(p4(2,7,5,32),'PLAYER',[identifier(p4(2,7,15,22),'Player1'),identifier(p4(2,7,24,31),'Player2')]),enumerated_set(p4(2,8,5,61),'STATUS',[identifier(p4(2,8,15,28),deployPending),identifier(p4(2,8,29,36),ongoing),identifier(p4(2,8,38,48),player1Win),identifier(p4(2,8,50,60),player2Win)]),enumerated_set(p4(2,9,5,40),'RESULT',[identifier(p4(2,9,15,18),hit),identifier(p4(2,9,20,24),miss),identifier(p4(2,9,26,39),'FleetDeployed')])]),constants(p5(2,11,1,12,29),[identifier(p4(2,12,5,14),'MAX_SHIPS'),identifier(p4(2,12,16,29),'GRID_POSITION')]),properties(p5(2,14,1,16,37),conjunct(p5(2,15,5,16,37),[equal(p4(2,15,5,18),identifier(p4(2,15,5,14),'MAX_SHIPS'),integer(p4(2,15,17,18),3)),equal(p4(2,16,5,37),identifier(p4(2,16,5,18),'GRID_POSITION'),mult_or_cart(p4(2,16,22,37),interval(p4(2,16,22,27),integer(p4(2,16,22,23),1),integer(p4(2,16,25,27),10)),interval(p4(2,16,32,37),integer(p4(2,16,32,33),1),integer(p4(2,16,35,37),10))))]))])).
machine(abstract_machine(p5(1,6,1,125,4),machine(p3(6,1,8)),machine_header(p3(6,9,25),'Battleships_Main',[]),[sees(p5(1,7,1,8,21),[identifier(p3(8,5,21),'Battleships_Base')]),variables(p5(1,10,1,11,84),[identifier(p3(11,5,17),player1Ships),identifier(p3(11,19,31),player2Ships),identifier(p3(11,33,44),currentTurn),identifier(p3(11,46,56),gameStatus),identifier(p3(11,58,70),player1shots),identifier(p3(11,72,84),player2shots)]),invariant(p5(1,13,1,22,23),conjunct(p5(1,14,5,22,23),[subset(p3(14,5,34),identifier(p3(14,5,17),player1Ships),identifier(p3(14,21,34),'GRID_POSITION')),subset(p3(15,5,34),identifier(p3(15,5,17),player2Ships),identifier(p3(15,21,34),'GRID_POSITION')),less_equal(p3(16,5,36),card(p3(16,5,23),identifier(p3(16,10,22),player1Ships)),identifier(p3(16,27,36),'MAX_SHIPS')),less_equal(p3(17,5,36),card(p3(17,5,23),identifier(p3(17,10,22),player2Ships)),identifier(p3(17,27,36),'MAX_SHIPS')),member(p3(19,5,25),identifier(p3(19,5,16),currentTurn),identifier(p3(19,19,25),'PLAYER')),member(p3(20,5,24),identifier(p3(20,5,15),gameStatus),identifier(p3(20,18,24),'STATUS')),member(p3(21,5,23),identifier(p3(21,5,17),player1shots),nat_set(p3(21,20,23))),member(p3(22,5,23),identifier(p3(22,5,17),player2shots),nat_set(p3(22,20,23)))])),initialisation(p5(1,24,1,30,22),parallel(p5(1,25,5,30,22),[assign(p3(25,5,23),[identifier(p3(25,5,17),player1Ships)],[empty_set(p3(25,21,23))]),assign(p3(26,5,23),[identifier(p3(26,5,17),player2Ships)],[empty_set(p3(26,21,23))]),assign(p3(27,5,27),[identifier(p3(27,5,16),currentTurn)],[identifier(p3(27,20,27),'Player1')]),assign(p3(28,5,32),[identifier(p3(28,5,15),gameStatus)],[identifier(p3(28,19,32),deployPending)]),assign(p3(29,5,22),[identifier(p3(29,5,17),player1shots)],[integer(p3(29,21,22),0)]),assign(p3(30,5,22),[identifier(p3(30,5,17),player2shots)],[integer(p3(30,21,22),0)])])),operations(p5(1,32,1,124,8),[operation(p5(1,34,5,50,8),identifier(p5(1,34,5,50,8),deployFleet),[identifier(p3(34,5,11),report)],[identifier(p3(34,28,34),player),identifier(p3(34,36,45),positions)],precondition(p5(1,35,5,50,8),conjunct(p5(1,36,9,41,48),[equal(p3(36,9,35),identifier(p3(36,9,19),gameStatus),identifier(p3(36,22,35),deployPending)),member(p3(37,9,24),identifier(p3(37,9,15),player),identifier(p3(37,18,24),'PLAYER')),subset(p3(38,9,35),identifier(p3(38,9,18),positions),identifier(p3(38,22,35),'GRID_POSITION')),equal(p3(39,9,36),card(p3(39,9,24),identifier(p3(39,14,23),positions)),identifier(p3(39,27,36),'MAX_SHIPS')),conjunct(p5(1,40,11,41,48),[implication(p3(40,11,48),equal(p3(40,11,27),identifier(p3(40,11,17),player),identifier(p3(40,20,27),'Player1')),equal(p3(40,31,48),identifier(p3(40,31,43),player1Ships),empty_set(p3(40,46,48)))),implication(p3(41,11,48),equal(p3(41,11,27),identifier(p3(41,11,17),player),identifier(p3(41,20,27),'Player2')),equal(p3(41,31,48),identifier(p3(41,31,43),player2Ships),empty_set(p3(41,46,48))))])]),parallel(p5(1,43,9,49,32),[if(p5(1,43,9,48,12),equal(p3(43,12,28),identifier(p3(43,12,18),player),identifier(p3(43,21,28),'Player1')),assign(p3(44,13,38),[identifier(p3(44,13,25),player1Ships)],[identifier(p3(44,29,38),positions)]),[],parallel(p5(1,46,13,47,34),[assign(p3(46,13,38),[identifier(p3(46,13,25),player2Ships)],[identifier(p3(46,29,38),positions)]),assign(p3(47,13,34),[identifier(p3(47,13,23),gameStatus)],[identifier(p3(47,27,34),ongoing)])])),assign(p3(49,9,32),[identifier(p3(49,9,15),report)],[identifier(p3(49,19,32),'FleetDeployed')])]))),operation(p5(1,53,5,88,8),identifier(p5(1,53,5,88,8),playerShoots),[identifier(p3(53,5,11),report)],[identifier(p3(53,29,35),target)],precondition(p5(1,54,5,88,8),conjunct(p5(1,55,9,56,29),[member(p3(55,9,31),identifier(p3(55,9,15),target),identifier(p3(55,18,31),'GRID_POSITION')),equal(p3(56,9,29),identifier(p3(56,9,19),gameStatus),identifier(p3(56,22,29),ongoing))]),if(p5(1,59,9,87,12),equal(p3(59,12,33),identifier(p3(59,12,23),currentTurn),identifier(p3(59,26,33),'Player1')),if(p5(1,60,13,72,16),member(p3(60,16,37),identifier(p3(60,16,22),target),identifier(p3(60,25,37),player2Ships)),parallel(p5(1,61,17,68,20),[assign(p3(61,17,56),[identifier(p3(61,17,29),player2Ships)],[minus_or_set_subtract(p3(61,33,56),identifier(p3(61,33,45),player2Ships),set_extension(p3(61,48,56),[identifier(p3(61,49,55),target)]))]),assign(p3(62,17,49),[identifier(p3(62,17,29),player1shots)],[add(p3(62,33,49),identifier(p3(62,33,45),player1shots),integer(p3(62,48,49),1))]),assign(p3(63,17,30),[identifier(p3(63,17,23),report)],[identifier(p3(63,27,30),hit)]),if(p5(1,64,17,68,20),equal(p3(64,20,48),minus_or_set_subtract(p3(64,20,43),identifier(p3(64,20,32),player2Ships),set_extension(p3(64,35,43),[identifier(p3(64,36,42),target)])),empty_set(p3(64,46,48))),assign(p3(65,21,45),[identifier(p3(65,21,31),gameStatus)],[identifier(p3(65,35,45),player1Win)]),[],assign(p3(67,21,43),[identifier(p3(67,21,32),currentTurn)],[identifier(p3(67,36,43),'Player2')]))]),[],parallel(p5(1,70,17,71,39),[assign(p3(70,17,31),[identifier(p3(70,17,23),report)],[identifier(p3(70,27,31),miss)]),assign(p3(71,17,39),[identifier(p3(71,17,28),currentTurn)],[identifier(p3(71,32,39),'Player2')])])),[],if(p5(1,74,13,86,16),member(p3(74,16,37),identifier(p3(74,16,22),target),identifier(p3(74,25,37),player1Ships)),parallel(p5(1,75,17,82,20),[assign(p3(75,17,56),[identifier(p3(75,17,29),player1Ships)],[minus_or_set_subtract(p3(75,33,56),identifier(p3(75,33,45),player1Ships),set_extension(p3(75,48,56),[identifier(p3(75,49,55),target)]))]),assign(p3(76,17,49),[identifier(p3(76,17,29),player2shots)],[add(p3(76,33,49),identifier(p3(76,33,45),player2shots),integer(p3(76,48,49),1))]),assign(p3(77,17,30),[identifier(p3(77,17,23),report)],[identifier(p3(77,27,30),hit)]),if(p5(1,78,17,82,20),equal(p3(78,21,49),minus_or_set_subtract(p3(78,21,44),identifier(p3(78,21,33),player1Ships),set_extension(p3(78,36,44),[identifier(p3(78,37,43),target)])),empty_set(p3(78,47,49))),assign(p3(79,21,45),[identifier(p3(79,21,31),gameStatus)],[identifier(p3(79,35,45),player2Win)]),[],assign(p3(81,21,43),[identifier(p3(81,21,32),currentTurn)],[identifier(p3(81,36,43),'Player1')]))]),[],parallel(p5(1,84,17,85,39),[assign(p3(84,17,31),[identifier(p3(84,17,23),report)],[identifier(p3(84,27,31),miss)]),assign(p3(85,17,39),[identifier(p3(85,17,28),currentTurn)],[identifier(p3(85,32,39),'Player1')])]))))),operation(p5(1,91,5,100,8),identifier(p5(1,91,5,100,8),shipLocations),[identifier(p3(91,5,16),shipsquares)],[identifier(p3(91,35,41),player)],precondition(p5(1,92,5,100,8),member(p3(93,9,24),identifier(p3(93,9,15),player),identifier(p3(93,18,24),'PLAYER')),if(p5(1,95,9,99,12),equal(p3(95,12,28),identifier(p3(95,12,18),player),identifier(p3(95,21,28),'Player1')),assign(p3(96,13,40),[identifier(p3(96,13,24),shipsquares)],[identifier(p3(96,28,40),player1Ships)]),[],assign(p3(98,13,40),[identifier(p3(98,13,24),shipsquares)],[identifier(p3(98,28,40),player2Ships)])))),operation(p5(1,103,5,106,8),identifier(p5(1,103,5,106,8),shipsLeft),[identifier(p3(103,5,15),shipCounts)],[],block(p5(1,104,5,106,8),assign(p3(105,9,63),[identifier(p3(105,9,19),shipCounts)],[couple(p3(105,23,63),[card(p3(105,24,42),identifier(p3(105,29,41),player1Ships)),card(p3(105,44,62),identifier(p3(105,49,61),player2Ships))])]))),operation(p5(1,109,5,118,8),identifier(p5(1,109,5,118,8),shotsTaken),[identifier(p3(109,5,13),hitCount)],[identifier(p3(109,29,35),player)],precondition(p5(1,110,5,118,8),member(p3(111,9,24),identifier(p3(111,9,15),player),identifier(p3(111,18,24),'PLAYER')),if(p5(1,113,9,117,12),equal(p3(113,12,28),identifier(p3(113,12,18),player),identifier(p3(113,21,28),'Player1')),assign(p3(114,13,37),[identifier(p3(114,13,21),hitCount)],[identifier(p3(114,25,37),player1shots)]),[],assign(p3(116,13,37),[identifier(p3(116,13,21),hitCount)],[identifier(p3(116,25,37),player2shots)])))),operation(p5(1,121,5,124,8),identifier(p5(1,121,5,124,8),gameStatusReport),[identifier(p3(121,5,17),statusReport)],[],block(p5(1,122,5,124,8),assign(p3(123,9,35),[identifier(p3(123,9,21),statusReport)],[identifier(p3(123,25,35),gameStatus)])))])])).
