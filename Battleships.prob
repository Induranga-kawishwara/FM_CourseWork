parser_version('6493608583aa373b4ee423036e944e7074ab4262').
classical_b('Battleships',['F:\\4th Year\\test\\Battleships.mch']).
machine(abstract_machine(p5(1,1,1,135,4),machine(p3(1,1,8)),machine_header(p3(1,9,20),'Battleships',[]),[sets(p5(1,2,1,5,40),[enumerated_set(p3(3,5,32),'PLAYER',[identifier(p3(3,15,22),'Player1'),identifier(p3(3,24,31),'Player2')]),enumerated_set(p3(4,5,47),'STATUS',[identifier(p3(4,15,22),ongoing),identifier(p3(4,24,34),player1Win),identifier(p3(4,36,46),player2Win)]),enumerated_set(p3(5,5,40),'RESULT',[identifier(p3(5,15,18),hit),identifier(p3(5,20,24),miss),identifier(p3(5,26,39),'FleetDeployed')])]),constants(p5(1,7,1,8,29),[identifier(p3(8,5,14),'MAX_SHIPS'),identifier(p3(8,16,29),'GRID_POSITION')]),properties(p5(1,10,1,12,35),conjunct(p5(1,11,5,12,35),[equal(p3(11,5,18),identifier(p3(11,5,14),'MAX_SHIPS'),integer(p3(11,17,18),3)),equal(p3(12,5,35),identifier(p3(12,5,18),'GRID_POSITION'),mult_or_cart(p3(12,22,35),interval(p3(12,22,26),integer(p3(12,22,23),1),integer(p3(12,25,26),2)),interval(p3(12,31,35),integer(p3(12,31,32),1),integer(p3(12,34,35),2))))])),variables(p5(1,14,1,15,97),[identifier(p3(15,5,17),player1Ships),identifier(p3(15,19,31),player2Ships),identifier(p3(15,33,44),currentTurn),identifier(p3(15,46,56),gameStatus),identifier(p3(15,58,69),player1Hits),identifier(p3(15,71,82),player2Hits),identifier(p3(15,84,97),fleetDeployed)]),invariant(p5(1,17,1,27,25),conjunct(p5(1,18,5,27,25),[subset(p3(18,5,34),identifier(p3(18,5,17),player1Ships),identifier(p3(18,21,34),'GRID_POSITION')),subset(p3(19,5,34),identifier(p3(19,5,17),player2Ships),identifier(p3(19,21,34),'GRID_POSITION')),less_equal(p3(20,5,36),card(p3(20,5,23),identifier(p3(20,10,22),player1Ships)),identifier(p3(20,27,36),'MAX_SHIPS')),less_equal(p3(21,5,36),card(p3(21,5,23),identifier(p3(21,10,22),player2Ships)),identifier(p3(21,27,36),'MAX_SHIPS')),equal(p3(22,5,38),intersection(p3(22,5,33),identifier(p3(22,5,17),player1Ships),identifier(p3(22,21,33),player2Ships)),empty_set(p3(22,36,38))),member(p3(23,5,25),identifier(p3(23,5,16),currentTurn),identifier(p3(23,19,25),'PLAYER')),member(p3(24,5,24),identifier(p3(24,5,15),gameStatus),identifier(p3(24,18,24),'STATUS')),member(p3(25,5,22),identifier(p3(25,5,16),player1Hits),nat_set(p3(25,19,22))),member(p3(26,5,22),identifier(p3(26,5,16),player2Hits),nat_set(p3(26,19,22))),member(p3(27,5,25),identifier(p3(27,5,18),fleetDeployed),bool_set(p3(27,21,25)))])),initialisation(p5(1,29,1,36,27),parallel(p5(1,30,5,36,27),[assign(p3(30,5,23),[identifier(p3(30,5,17),player1Ships)],[empty_set(p3(30,21,23))]),assign(p3(31,5,23),[identifier(p3(31,5,17),player2Ships)],[empty_set(p3(31,21,23))]),assign(p3(32,5,27),[identifier(p3(32,5,16),currentTurn)],[identifier(p3(32,20,27),'Player1')]),assign(p3(33,5,26),[identifier(p3(33,5,15),gameStatus)],[identifier(p3(33,19,26),ongoing)]),assign(p3(34,5,21),[identifier(p3(34,5,16),player1Hits)],[integer(p3(34,20,21),0)]),assign(p3(35,5,21),[identifier(p3(35,5,16),player2Hits)],[integer(p3(35,20,21),0)]),assign(p3(36,5,27),[identifier(p3(36,5,18),fleetDeployed)],[boolean_false(p3(36,22,27))])])),operations(p5(1,38,1,133,8),[operation(p5(1,40,5,59,8),identifier(p5(1,40,5,59,8),deployFleet),[identifier(p3(40,5,11),report)],[identifier(p3(40,28,34),player),identifier(p3(40,36,45),positions)],precondition(p5(1,41,5,59,8),conjunct(p5(1,42,9,46,47),[member(p3(42,9,24),identifier(p3(42,9,15),player),identifier(p3(42,18,24),'PLAYER')),subset(p3(43,9,35),identifier(p3(43,9,18),positions),identifier(p3(43,22,35),'GRID_POSITION')),equal(p3(44,9,36),card(p3(44,9,24),identifier(p3(44,14,23),positions)),identifier(p3(44,27,36),'MAX_SHIPS')),conjunct(p5(1,45,11,46,47),[implication(p3(45,11,48),equal(p3(45,11,27),identifier(p3(45,11,17),player),identifier(p3(45,20,27),'Player1')),equal(p3(45,31,48),identifier(p3(45,31,43),player1Ships),empty_set(p3(45,46,48)))),implication(p3(46,10,47),equal(p3(46,10,26),identifier(p3(46,10,16),player),identifier(p3(46,19,26),'Player2')),equal(p3(46,30,47),identifier(p3(46,30,42),player2Ships),empty_set(p3(46,45,47))))])]),sequence(p5(1,48,9,58,32),[if(p5(1,48,9,52,12),equal(p3(48,12,28),identifier(p3(48,12,18),player),identifier(p3(48,21,28),'Player1')),assign(p3(49,13,38),[identifier(p3(49,13,25),player1Ships)],[identifier(p3(49,29,38),positions)]),[],assign(p3(51,13,38),[identifier(p3(51,13,25),player2Ships)],[identifier(p3(51,29,38),positions)])),if(p5(1,55,9,57,12),conjunct(p3(55,12,51),[not_equal(p3(55,12,30),identifier(p3(55,12,24),player1Ships),empty_set(p3(55,28,30))),not_equal(p3(55,33,51),identifier(p3(55,33,45),player2Ships),empty_set(p3(55,49,51)))]),assign(p3(56,13,34),[identifier(p3(56,13,26),fleetDeployed)],[boolean_true(p3(56,30,34))]),[],skip(none)),assign(p3(58,9,32),[identifier(p3(58,9,15),report)],[identifier(p3(58,19,32),'FleetDeployed')])]))),operation(p5(1,62,5,97,8),identifier(p5(1,62,5,97,8),playerShoots),[identifier(p3(62,5,11),report)],[identifier(p3(62,29,35),target)],precondition(p5(1,63,5,97,8),conjunct(p5(1,64,9,66,29),[member(p3(64,9,31),identifier(p3(64,9,15),target),identifier(p3(64,18,31),'GRID_POSITION')),equal(p3(65,9,29),identifier(p3(65,9,19),gameStatus),identifier(p3(65,22,29),ongoing)),equal(p3(66,9,29),identifier(p3(66,9,22),fleetDeployed),boolean_true(p3(66,25,29)))]),if(p5(1,68,9,96,12),equal(p3(68,12,33),identifier(p3(68,12,23),currentTurn),identifier(p3(68,26,33),'Player1')),if(p5(1,69,13,81,16),member(p3(69,16,37),identifier(p3(69,16,22),target),identifier(p3(69,25,37),player2Ships)),parallel(p5(1,70,17,77,20),[assign(p3(70,17,56),[identifier(p3(70,17,29),player2Ships)],[minus_or_set_subtract(p3(70,33,56),identifier(p3(70,33,45),player2Ships),set_extension(p3(70,48,56),[identifier(p3(70,49,55),target)]))]),assign(p3(71,17,47),[identifier(p3(71,17,28),player1Hits)],[add(p3(71,32,47),identifier(p3(71,32,43),player1Hits),integer(p3(71,46,47),1))]),assign(p3(72,17,30),[identifier(p3(72,17,23),report)],[identifier(p3(72,27,30),hit)]),if(p5(1,73,17,77,20),equal(p3(73,20,48),minus_or_set_subtract(p3(73,20,43),identifier(p3(73,20,32),player2Ships),set_extension(p3(73,35,43),[identifier(p3(73,36,42),target)])),empty_set(p3(73,46,48))),assign(p3(74,21,45),[identifier(p3(74,21,31),gameStatus)],[identifier(p3(74,35,45),player1Win)]),[],assign(p3(76,21,43),[identifier(p3(76,21,32),currentTurn)],[identifier(p3(76,36,43),'Player2')]))]),[],parallel(p5(1,79,17,80,39),[assign(p3(79,17,31),[identifier(p3(79,17,23),report)],[identifier(p3(79,27,31),miss)]),assign(p3(80,17,39),[identifier(p3(80,17,28),currentTurn)],[identifier(p3(80,32,39),'Player2')])])),[],if(p5(1,83,13,95,16),member(p3(83,16,37),identifier(p3(83,16,22),target),identifier(p3(83,25,37),player1Ships)),parallel(p5(1,84,17,91,20),[assign(p3(84,17,56),[identifier(p3(84,17,29),player1Ships)],[minus_or_set_subtract(p3(84,33,56),identifier(p3(84,33,45),player1Ships),set_extension(p3(84,48,56),[identifier(p3(84,49,55),target)]))]),assign(p3(85,17,47),[identifier(p3(85,17,28),player2Hits)],[add(p3(85,32,47),identifier(p3(85,32,43),player2Hits),integer(p3(85,46,47),1))]),assign(p3(86,17,30),[identifier(p3(86,17,23),report)],[identifier(p3(86,27,30),hit)]),if(p5(1,87,17,91,20),equal(p3(87,21,49),minus_or_set_subtract(p3(87,21,44),identifier(p3(87,21,33),player1Ships),set_extension(p3(87,36,44),[identifier(p3(87,37,43),target)])),empty_set(p3(87,47,49))),assign(p3(88,21,45),[identifier(p3(88,21,31),gameStatus)],[identifier(p3(88,35,45),player2Win)]),[],assign(p3(90,21,43),[identifier(p3(90,21,32),currentTurn)],[identifier(p3(90,36,43),'Player1')]))]),[],parallel(p5(1,93,17,94,39),[assign(p3(93,17,31),[identifier(p3(93,17,23),report)],[identifier(p3(93,27,31),miss)]),assign(p3(94,17,39),[identifier(p3(94,17,28),currentTurn)],[identifier(p3(94,32,39),'Player1')])]))))),operation(p5(1,100,5,109,8),identifier(p5(1,100,5,109,8),shipLocations),[identifier(p3(100,5,16),shipsquares)],[identifier(p3(100,35,41),player)],precondition(p5(1,101,5,109,8),member(p3(102,9,24),identifier(p3(102,9,15),player),identifier(p3(102,18,24),'PLAYER')),if(p5(1,104,9,108,12),equal(p3(104,12,28),identifier(p3(104,12,18),player),identifier(p3(104,21,28),'Player1')),assign(p3(105,13,40),[identifier(p3(105,13,24),shipsquares)],[identifier(p3(105,28,40),player1Ships)]),[],assign(p3(107,13,40),[identifier(p3(107,13,24),shipsquares)],[identifier(p3(107,28,40),player2Ships)])))),operation(p5(1,112,5,115,8),identifier(p5(1,112,5,115,8),shipsLeft),[identifier(p3(112,5,15),shipCounts)],[],block(p5(1,113,5,115,8),assign(p3(114,9,63),[identifier(p3(114,9,19),shipCounts)],[couple(p3(114,23,63),[card(p3(114,24,42),identifier(p3(114,29,41),player1Ships)),card(p3(114,44,62),identifier(p3(114,49,61),player2Ships))])]))),operation(p5(1,118,5,127,8),identifier(p5(1,118,5,127,8),shotsTaken),[identifier(p3(118,5,13),hitCount)],[identifier(p3(118,29,35),player)],precondition(p5(1,119,5,127,8),member(p3(120,9,24),identifier(p3(120,9,15),player),identifier(p3(120,18,24),'PLAYER')),if(p5(1,122,9,126,12),equal(p3(122,12,28),identifier(p3(122,12,18),player),identifier(p3(122,21,28),'Player1')),assign(p3(123,13,36),[identifier(p3(123,13,21),hitCount)],[identifier(p3(123,25,36),player1Hits)]),[],assign(p3(125,13,36),[identifier(p3(125,13,21),hitCount)],[identifier(p3(125,25,36),player2Hits)])))),operation(p5(1,130,5,133,8),identifier(p5(1,130,5,133,8),gameStatusReport),[identifier(p3(130,5,17),statusReport)],[],block(p5(1,131,5,133,8),assign(p3(132,9,35),[identifier(p3(132,9,21),statusReport)],[identifier(p3(132,25,35),gameStatus)])))])])).
